{"entries":[{"timestamp":1738571950468,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"\n"],[-1,"let status = 0\n\nenum STATE {\n    ready = 0,\n    running = 1,\n    finish = 2\n}\n\nlet mode: STATE = STATE.ready;\n\nSensors.SetLightLevel()\n\n\nlet startTime: number\nlet totalTime: number\n\n\nradio.onReceivedNumber(function(receivedNumber: number) {\n    mode = STATE.running\n    startTime = receivedNumber\n})\n\nSensors.OnLightDrop(function () {\n    if (mode == STATE.ready) {\n        radio.sendNumber(control.millis())\n        mode = STATE.running\n    } else if (mode == STATE.running) {\n        totalTime = control.milis() - startTime\n        radio.sendValue(\"time\", totalTime)\n    }\n})\n\nbasic.forever(function() {\n\n})\n\n"]],"start1":0,"start2":0,"length1":612,"length2":1}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," \"*\""],[-1,",\n        \"pxt-sensors\": \"github:TomasKazda/pxt-sensors#a4146d725fe882187db670cb094772d4e747a220\""],[0,"\n   "]],"start1":136,"start2":136,"length1":105,"length2":8},{"diffs":[[0,"pt-only\""],[1,",\n    \"additionalFilePaths\": []"],[0,"\n}\n"]],"start1":277,"start2":277,"length1":11,"length2":42}]}]},{"timestamp":1738572557787,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"        "],[1,"mode = STATE.running"],[0,"\n    } e"]],"start1":410,"start2":410,"length1":16,"length2":36}]}]},{"timestamp":1738572560861,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"\n}\n\n"],[-1,"enum THIS {\n    start = 0,\n    end = 1\n}\n\n"],[0,"let "]],"start1":76,"start2":76,"length1":50,"length2":8},{"diffs":[[0,"dy;\n"],[-1,"mode = STATE.finish\n\n"],[0,"\nSen"]],"start1":107,"start2":107,"length1":29,"length2":8},{"diffs":[[0,"umber\n\n\n"],[-1,"//"],[0,"radio.on"]],"start1":176,"start2":176,"length1":18,"length2":16},{"diffs":[[0,"mber) {\n"],[-1,"//"],[0,"    mode"]],"start1":234,"start2":234,"length1":18,"length2":16},{"diffs":[[0,"running\n"],[-1,"//"],[0,"    star"]],"start1":259,"start2":259,"length1":18,"length2":16},{"diffs":[[0,"ber\n"],[-1,"//})\n\nradio.onReceivedValue(function(name: string, value: number) {\n    if (name == \"start\") {\n        mode = STATE.running\n        startTime = value\n    } else if (name == \"time\") {\n        mode = STATE.finish\n        totalTime = value\n        console.log(`Z치vod trval ${totalTime}`)\n    }\n"],[0,"})\n\n"]],"start1":294,"start2":294,"length1":299,"length2":8},{"diffs":[[0,"on () {\n"],[-1,"\n"],[0,"    if ("]],"start1":328,"start2":328,"length1":17,"length2":16},{"diffs":[[0,"    "],[-1,"mode = STATE.running\n        radio.sendValue(\"start\", "],[1,"radio.sendNumber("],[0,"cont"]],"start1":371,"start2":371,"length1":62,"length2":25},{"diffs":[[0,"llis())\n"],[1,"        \n"],[0,"    } el"]],"start1":402,"start2":402,"length1":16,"length2":25},{"diffs":[[0,") {\n"],[-1,"        mode = STATE.finish\n"],[0,"    "]],"start1":455,"start2":455,"length1":36,"length2":8},{"diffs":[[0," control.mil"],[-1,"l"],[0,"is() - start"]],"start1":478,"start2":478,"length1":25,"length2":24},{"diffs":[[0,"    "],[-1,"console.log(`Z치vod trval ${totalTime}`)\n        radio.sendValue(\"time\", totalTime)\n    } else if (mode == STATE.finish) {\n        console.log(\"\""],[1,"radio.sendValue(\"time\", totalTime"],[0,")\n  "]],"start1":511,"start2":511,"length1":152,"length2":41},{"diffs":[[0,"})\n\n"],[-1,"input\n\n"],[0,"basi"]],"start1":556,"start2":556,"length1":15,"length2":8},{"diffs":[[0,"ion() {\n"],[-1,"    "],[0,"\n})\n\n"]],"start1":579,"start2":579,"length1":17,"length2":13}]}]},{"timestamp":1738573155364,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"}\n\nenum "],[-1,"WHOAMI"],[1,"THIS"],[0," {\n    s"]],"start1":77,"start2":77,"length1":22,"length2":20},{"diffs":[[0,"\n}\n\n"],[-1,"let whoAmI: WHOAMI\n\n"],[0,"let "]],"start1":118,"start2":118,"length1":28,"length2":8},{"diffs":[[0,"\n})\n"],[-1,"radio.onReceivedString(function(receivedString: string) {\n    if (receivedString == \"startSet\") {\n        whoAmI = WHOAMI.end\n    }\n})\n\n"],[0,"\nSen"]],"start1":657,"start2":657,"length1":144,"length2":8},{"diffs":[[0,"eady"],[-1," && whoAmI == WHOAMI.start"],[0,") {\n"]],"start1":720,"start2":720,"length1":34,"length2":8},{"diffs":[[0,"ning"],[-1," && whoAmI == WHOAMI.end"],[0,") {\n"]],"start1":840,"start2":840,"length1":32,"length2":8},{"diffs":[[0,"nput"],[-1,".onButtonPressed(Button.A, function() {\n    if (whoAmI == WHOAMI.start && mode == STATE.finish) {\n        basic.pause(2000)\n        mode = STATE.ready\n    } else if (whoAmI != WHOAMI.end && mode == STATE.finish) {\n        whoAmI = WHOAMI.start\n        radio.sendString(\"startSet\")\n        basic.pause(2000)\n        mode = STATE.ready\n    } else if (whoAmI == WHOAMI.start)\n})"],[0,"\n\nba"]],"start1":1090,"start2":1090,"length1":383,"length2":8}]}]},{"timestamp":1738573754200,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"tTime = "],[-1,"control.millis()"],[1,"value"],[0,"\n    } e"]],"start1":525,"start2":525,"length1":32,"length2":21},{"diffs":[[0,"end\n"],[-1,"    } else if (receivedString == \"stop\") {\n        mode = STATE.finish\n"],[0,"    "]],"start1":805,"start2":805,"length1":79,"length2":8},{"diffs":[[0,"t\", "],[-1,"1)\n"],[1,"control.millis())"],[0,"\n   "]],"start1":970,"start2":970,"length1":11,"length2":25},{"diffs":[[0,"alTime)\n"],[-1,"\n"],[0,"    } el"]],"start1":1216,"start2":1216,"length1":17,"length2":16},{"diffs":[[0,"log(\"\")\n"],[-1,"\n"],[0,"    }\n})"]],"start1":1279,"start2":1279,"length1":17,"length2":16},{"diffs":[[0,"e = STATE.ready\n"],[-1,"\n"],[0,"    } else if (w"]],"start1":1437,"start2":1437,"length1":33,"length2":32},{"diffs":[[0,"E.ready\n"],[-1,"\n"],[0,"    } el"]],"start1":1628,"start2":1628,"length1":17,"length2":16},{"diffs":[[0,"tart"],[-1," && mode == STATE.ready) {\n        mode = STATE.finish\n\n    } else if (whoAmI == WHOAMI.start && mode == STATE.running"],[1,")\n})\n\nbasic.forever(function("],[0,") {\n    "],[-1,"  "],[-1,"  mode = STATE.finish\n        radio.sendString(\"stop\")\n\n    }"],[0,"\n})\n\n"],[-1,"\n"]],"start1":1669,"start2":1669,"length1":199,"length2":46}]}]},{"timestamp":1738574299795,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[0,"OAMI"],[-1,"\nconsole.log(whoAmI)"],[0,"\n\nle"]],"start1":138,"start2":138,"length1":28,"length2":8},{"diffs":[[0,"l()\n"],[-1,"basic.showNumber(0)"],[0,"\n\nle"]],"start1":217,"start2":217,"length1":27,"length2":8},{"diffs":[[0,"end\n"],[-1,"        basic.showNumber(2)\n"],[0,"    "]],"start1":816,"start2":816,"length1":36,"length2":8},{"diffs":[[0,"art\n"],[-1,"        basic.showNumber(1)\n"],[0,"    "]],"start1":1613,"start2":1613,"length1":36,"length2":8}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," ],\n"],[-1,"    \"testFiles\": [\n        \"test.ts\"\n    ],\n"],[0,"    "]],"start1":302,"start2":302,"length1":52,"length2":8}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"},{"type":"added","filename":"main.blocks","value":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>"}]}],"snapshots":[{"timestamp":1738571950467,"editorVersion":"7.0.57","text":{"main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"pxt-zavod\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\",\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1738573751331,"editorVersion":"7.0.57","text":{"main.ts":"\nlet status = 0\n\nenum STATE {\n    ready = 0,\n    running = 1,\n    finish = 2\n}\n\nenum WHOAMI {\n    start = 0,\n    end = 1\n}\n\nlet whoAmI: WHOAMI\n\nlet mode: STATE = STATE.ready;\nmode = STATE.finish\n\n\nSensors.SetLightLevel()\n\n\nlet startTime: number\nlet totalTime: number\n\n\n//radio.onReceivedNumber(function(receivedNumber: number) {\n//    mode = STATE.running\n//    startTime = receivedNumber\n//})\n\nradio.onReceivedValue(function(name: string, value: number) {\n    if (name == \"start\") {\n        mode = STATE.running\n        startTime = value\n    } else if (name == \"time\") {\n        mode = STATE.finish\n        totalTime = value\n        console.log(`Z치vod trval ${totalTime}`)\n    }\n})\nradio.onReceivedString(function(receivedString: string) {\n    if (receivedString == \"startSet\") {\n        whoAmI = WHOAMI.end\n    }\n})\n\n\nSensors.OnLightDrop(function () {\n\n    if (mode == STATE.ready && whoAmI == WHOAMI.start) {\n        mode = STATE.running\n        radio.sendValue(\"start\", control.millis())\n    } else if (mode == STATE.running && whoAmI == WHOAMI.end) {\n        mode = STATE.finish\n        totalTime = control.millis() - startTime\n        console.log(`Z치vod trval ${totalTime}`)\n        radio.sendValue(\"time\", totalTime)\n    } else if (mode == STATE.finish) {\n        console.log(\"\")\n    }\n})\n\ninput.onButtonPressed(Button.A, function() {\n    if (whoAmI == WHOAMI.start && mode == STATE.finish) {\n        basic.pause(2000)\n        mode = STATE.ready\n    } else if (whoAmI != WHOAMI.end && mode == STATE.finish) {\n        whoAmI = WHOAMI.start\n        radio.sendString(\"startSet\")\n        basic.pause(2000)\n        mode = STATE.ready\n    } else if (whoAmI )\n})\n\nbasic.forever(function() {\n    \n})\n\n","README.md":"","pxt.json":"{\n    \"name\": \"pxt-zavod\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"pxt-sensors\": \"github:TomasKazda/pxt-sensors#a4146d725fe882187db670cb094772d4e747a220\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\"\n}\n"}}],"shares":[],"lastSaveTime":1738574702597}